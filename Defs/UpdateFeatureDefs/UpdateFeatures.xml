<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<HugsLib.UpdateFeatureDef Abstract="true" Name="UpdateFeatureBase">
		<modNameReadable>A RimWorld Of Magic</modNameReadable>
		<modIdentifier>ARimWorldOfMagic</modIdentifier>
		<linkUrl>https://ludeon.com/forums/index.php?topic=37161.0</linkUrl>
	</HugsLib.UpdateFeatureDef>	
	<HugsLib.UpdateFeatureDef ParentName="UpdateFeatureBase">
		<defName>ARimWorldOfMagic_2_2_5</defName>
		<assemblyVersion>2.2.5</assemblyVersion>
		<content>
** New feature: Auto-casting - many basic spells or skills can now be enabled for automatic use.  There are a few things you should know:
- Abilities with autocast will have a checkbox at the top right of the ability icon; right click the ability icon to toggle the feature.
- There are two separate routines for drafted and undrafted.  Some spells, like magic combat spells, will only autocast while drafted.
- The only offensive abilities that will be used while undrafted are Ranger "Arrow Storm" and Sniper "Headshot" - and only when hunting.
- Autocast settings can be found in the mod options, and can be turned off globally if desired or for performance reasons.
- Outside of combat and hunting, autocast abilities will only target human colonists.
- Enabling autocast does not prevent normal use of abilities.
	
** New feature: Class options - within the mod settings there is a button for "Class Options" that will allow you to disable certain classes from being generated during gameplay.
- This does not remove traits from the database.  Disabled class traits will never be assigned during normal gameplay but use of mods like EdB Prepare Carefully or any mod that ignores trait commonality settings, will still show the trait.
- This feature should not be used in the middle of a game, only apply changes before starting a new game.
	
* New weapons - Elephant bow and Elephant spear - these weapons are intended to provide extra benefit to fighter classes at mid-tier (industrial equivalent) and have minor enchantments, similar to wands for mages.

Bug fixes: 
Geomancer "Encase" has been recoded to prevent "terrain swapping" and accidental destruction of a building if the swapped terrain type didn't support the building
Fixed an issue where several spells that should ignore terrain were 'hitting' objects or terrain prior to reaching their designated targets
Equipment (apparel) should now show their enchantments in the gear tab, along with weapons
Fixed an issue where Bards performing the "entertain" job wouldn't properly reserve their targets
Fixed a bug with Warlock "Empathy Bleed" that would attempt to feel empathy for colony pets
Warlock/Succubus can no longer soulbond themselves

		</content>
	</HugsLib.UpdateFeatureDef>	
	<HugsLib.UpdateFeatureDef ParentName="UpdateFeatureBase">
		<defName>ARimWorldOfMagic_2_2_6</defName>
		<assemblyVersion>2.2.6</assemblyVersion>
		<content>
** New class: Technomancer - the technomancer combines technology and the arcane power as the basis for their abilities. They are unique in that they can select one (and only one) of three primary paths: offense, defense, and support
- Offensive Path: by using an existing, mechanical weapon as a blueprint, the technomancer can design a modified version of that weapon and mold it out of mana; the combination of this improved weapon system, nanites that increase their combat abilites, and projectiles infused with elemental properties makes the offensive technomancer a formidable option
- Defensive Path: the Mark-IV weapon system was a prototype that failed due to a lack of sustainable energy; technomancers use their own mana as a means to fuel this weapon system, and are able to effectively deploy and operate it as a powerful, manned turret
- Support Path: support technomancers prefer to craft an independent and autonomous AI to assist them in many tasks; this "techno-bit" is able to accelerate the work speed of many projects, can repair almost any mechanical system, and even has some combat abilities
In addition to the primary paths, all technomancers have access to several core, class abilities:
- Overdrive: bypasses safety features or increases power of generators, turrets, and robotic AI to drastically improve their output capacity for a short period but can cause stress and damage the targeted system
- Sabotage: like overdrive, it can target many different powered, computer, or mechanical systems to cause everything from minor to catastrophic failure of all vulnerable systems in a small area
- Kinetic Shield: surrounds the target with a shield able to deflect projectiles; the shields power determines the limit of kinetic energy that can be deflected - high powered rounds can penetrate low powered kinetic shields
- Orbital Strike; hacks into orbital bombardment satellites to input target coordinates, can take some time to align and launch the attack but packs a punch when it hits

** New Features:
Purify can be selected for Autocast
	
** Tweaks:
Autocast blink and phase strike XP gain has been reduced
Mana potion recipe for the gemcrafting replaces Go-Juice with other, less technological, ingredients
Autocast will not select targets out of line of sight - this was causing some abilities to move the casting pawn into a position it could see the target; this does not affect abilities that do not require line of sight
Sentinels will now activate on manhunter animals
Faceless ability "possess" can be resisted with above average values of consciousness and/or psychic sensitivity
Arcane cooler, heater, and power node have been changed to sustained abilities

Bug fixes:
Pawns of non-standard sizes will only be drawn as their intended sizes
Carrying capacity has been fixed for several traits that increased or decreased this state
		</content>
	</HugsLib.UpdateFeatureDef>	
	<HugsLib.UpdateFeatureDef ParentName="UpdateFeatureBase">
		<defName>ARimWorldOfMagic_2_2_7</defName>
		<assemblyVersion>2.2.7</assemblyVersion>
		<content>
**Undead and Skeletal Legion update**

Undead will now appear more -undead-
- pawns raised as undead will assume either their rotting or desiccated bodies
- rotting will not stop for raised undead and they will eventually deteriorate until they appear desiccated
- corpses raised that are already rotten or desiccated will retain their level of rot

Compatibility has been added for the Skeletal Legion mod by Jernfalk: https://ludeon.com/forums/index.php?topic=46598.0
- Skeleton Legion creatures are considered "undead" for purposes of RimWorld of Magic spells and abilities
- these creatures can be raised as undead by a necromancer

Tweaks:
- healing spells will now harm the unliving instead of heal them, this includes Jecrells "Vampires" as well as Jernfalk's "Skeletal Legion"
- 'light' based attacks (which includes healing spells) will have a chance to deal bonus damage to the unliving
- undead will always 'die' when downed - lichs and vampires are excluded from this behavior
- Autocast Magic and Fighter mentoring (Teach) will no longer select pawns of higher XP levels than the casters
		</content>
	</HugsLib.UpdateFeatureDef>
	<HugsLib.UpdateFeatureDef ParentName="UpdateFeatureBase">
		<defName>ARimWorldOfMagic_2_2_8</defName>
		<assemblyVersion>2.2.8</assemblyVersion>
		<content>
**Magic Development: Update #1**

Magic development updates will focus on adding new methods to develop and improve the colony through magical means.

New work type: Magic - mages selected for this work type will automatically perform various magic related tasks such as charging a portal or crafting at an arcane workbench; work type can be toggled under work settings

New research: Arcane Storage - allows construction of the Arcane Capacitor and Dimensional Mana Pocket

New research: Arcane cultivation - allows growing and creation of Pomanasyrrium, a fruit that enhances arcane senses

New structure: Arcane Capacitor - allows mages to transfer mana into the arcane capacitor and absorb it at a later time

New structure: Dimensional Mana Pocket - similar to the arcane capacitor but has significantly more storage capacity and discharge range but redistributes mana at a slower rate

New plant: Pomanasyrrium bush - produces fruit typically consumed as a delicacy, pomanasyrrium has unique properties that enhance a mages access to mana.  This chemical is called Syrrium and can be extracted from raw pomanasyrrium to concentrate the effects.

Tweaks:
Undead will not auto-undraft
Arcane apparel (all pieces) will inherit defense and insulation properties of the material used in creation; any magic apparel with specific material requirements were replaced with stuff categories
Added options to the mod settings to disable appearance changes for undead animals and pawns
Added an option to toggle mage and fighter level up messages
Added a gizmo for the technomancer to toggle the repair function

Bug fixes: 
Maps will no longer close when using the succubus ability 'Scorn' and the succubus is the only player owned pawn on the map
Fixed a bug with autocast phase strike and blink that was selecting the incorrect target during haul/load jobs
Wildman pawns will not generate errors if they are a mage or fighter
Rangers cannot bond animals that belong to another faction and will dismiss a bonded animal that is a member of a caravan if they choose to form another bond
Necromancer ability 'Consume Corpse' will not generate errors if a vampire (or pawn type lacking certain needs) uses the ability
		</content>
	</HugsLib.UpdateFeatureDef>	
	<HugsLib.UpdateFeatureDef ParentName="UpdateFeatureBase">
		<defName>ARimWorldOfMagic_2_2_9</defName>
		<assemblyVersion>2.2.9</assemblyVersion>
		<content>
**Magic Development: Update #2**

*Research: Arcane Forge - forge items with a combination of technology and raw arcane power
*Research: Forge Replication - enhance the arcane forge with a technique that allows it to replicate the design of almost any craftable item

*Structure: Arcane Forge - a powerful crafting table that dramatically accelerates crafting speeds and can apply these bonuses to any design it replicates; the forge can only be used by mages and consumes mana during the crafting process

*Plant: Paracyte thornbush - a delicate plant known for its keen beauty - its slow to grow but able to produce small quantities of magicyte; can also grow without light but at a slower rate

*Material: Manaweave - cloth infused with magicyte and arcane runes that enhances the magical enchantments of any apparel made from manaweave

Tweaks:
Psychic shock is less likely to deal lethal brain damage; implemented several tweaks to improve its performance
Sentinels will only evaluate prisoners as threats if the prisoner is performing hostile actions

Bug fixes: 
Druids can now write their Arcane Tome correctly
Fixed a bug with Overdrive that was generated when turrets had a null map (eg when mounted on a mechanoid)
Fixed several bugs with resurrection that could occur if the corpse moved, was being carried, or was destroyed or if the game was saved and loaded during the resurrection process
Fixed a bug with the mana drain incident if the player was present on 2 or more maps
		</content>
	</HugsLib.UpdateFeatureDef>	
	<HugsLib.UpdateFeatureDef ParentName="UpdateFeatureBase">
		<defName>ARimWorldOfMagic_2_3_0</defName>
		<assemblyVersion>2.3.0</assemblyVersion>
		<content>
** New class: Deathknight - these warriors stand at the precipice of death and are among the toughest and most resolute fighters the rim has to offer; the closer they get to death, the more dangerous they become
-Shroud of Darkness: wreathed in an endless void, the shroud of darkness is the signature skill of any deathknight and is able to nullify attacks and increase their armor; its strength grows as the deathknight builds rage
-Wave of Fear: the deathknight amplifies the fears of their opponents to send them reeling and reduces their ability to resist dark attacks
-Spite: once sufficient rage is built, the deathknight can channel their malice into a physical attack, dealing a painful spirit attack at enemies up to medium range
-Spirit Tap: absorbs the life energy of enemies struck in melee range and uses it to build rage, restore energy, and heal their wounds and wounds of nearby allies
-Grave blade: calls forth the spirits of the dead to strike from the grave at any enemies in an a target area

*Equipment: Helm of the Valiant - special thanks to wrathofdog for the artwork; the helm of the valiant is a complimentary piece to the armor of the valiant and offers strong protection to frontline fighters

Tweaks:
Fireball and Snowball now have additional flight effects
Paracyte yield reduced by 1

Bug fixes:
Arcane forge: replication will no longer affect the original design/recipe; only items withs specified ingredients will replicate, the exception is equipment made from stuff in which case the design can be replicated using the same material; arcane gemstones can now be replicated
Added additional exception checking for magic pawns
Added a check to enchanting to prevent a mage from acquiring additional enchanting container slots
The Seer faction will now load their faction apparel correctly during pawn generation
		</content>
	</HugsLib.UpdateFeatureDef>	
	
</Defs>